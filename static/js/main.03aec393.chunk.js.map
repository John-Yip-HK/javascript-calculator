{"version":3,"sources":["components/DisplayComponent.js","components/KeypadComponent.js","components/MainComponent.js","App.js","reportWebVitals.js","index.js"],"names":["Display","Row","className","id","Col","Keypad","props","keyPressCallback","event","updateDisplay","target","innerHTML","Container","onClick","xs","Main","state","timeoutObj","result","hasError","pressedElements","operators","keyToClickableId","1","2","3","4","5","6","7","8","9","0","Escape","Enter","Backspace","bind","detectKeyStrokeAndUpdateDisplay","resetKeypad","updateDisplayWithNumberOrDecimal","updateDisplayWithOperators","calculateResult","resetCalculator","backspace","document","addEventListener","this","removeEventListener","key","elementId","getElementById","classList","add","push","preventDefault","length","pop","remove","spanObjs","displaySpan","opDisplaySpan","isExceed","element","offset","parent","parentElement","parentComputedStyles","getComputedStyle","clientWidth","parseFloat","paddingLeft","paddingRight","createRightPadding","span","navigator","userAgent","includes","style","resetSpanRelatedStyling","textAlign","resetSpanInnerHTML","clearTimeoutObj","clearTimeout","setState","decodeMathFormula","formulaStr","regex","replace","match","operands","split","map","op","slice","isNaN","scroll","left","callbackFn","validateAndCombine","initialStr","callback","prevOpDispVal","setTimeout","hasSetUpTimeoutObj","decimalWithZero","charAt","elementStr","lastIdxOfOp","reduce","Math","max","lastIndexOf","displaySpanStr","lastChar","nextLastChar","nextLastCharIsOp","value","lastOperand","Error","stack","shift","operator","operand","operandOne","unshift","calculateValue","err","message","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"8SAGe,SAASA,IACtB,OACE,eAACC,EAAA,EAAD,CAAKC,UAAU,gBAAgBC,GAAG,oBAAlC,UACE,cAACC,EAAA,EAAD,CAAKD,GAAG,UAAR,SACE,sBAAMA,GAAG,mBAEX,uBACA,cAACC,EAAA,EAAD,CAAKD,GAAG,aAAR,SACE,sBAAMA,GAAG,kBAAT,oBCPO,SAASE,EAAOC,GAC7B,IAAMC,EAAmB,SAACC,GAAD,OACvBF,EAAMG,cAAcD,EAAME,OAAOC,YAEnC,OACE,cAACV,EAAA,EAAD,CAAKC,UAAU,gBAAgBC,GAAG,mBAAlC,SACE,eAACS,EAAA,EAAD,CAAWT,GAAG,SAAd,UACE,eAACF,EAAA,EAAD,WACE,cAACG,EAAA,EAAD,CAAKD,GAAG,QAAQD,UAAU,YAAYW,QAASN,EAA/C,gBAGA,cAACH,EAAA,EAAD,CACED,GAAG,SACHD,UAAU,oBACVW,QAASN,EAHX,eAOA,cAACH,EAAA,EAAD,CACED,GAAG,WACHD,UAAU,oBACVW,QAASN,EAHX,eAOA,cAACH,EAAA,EAAD,CACEU,GAAI,EACJX,GAAG,YACHD,UAAU,YACVW,QAASN,EAJX,oBASF,eAACN,EAAA,EAAD,WACE,cAACG,EAAA,EAAD,CAAKD,GAAG,QAAQD,UAAU,YAAYW,QAASN,EAA/C,eAGA,cAACH,EAAA,EAAD,CAAKD,GAAG,QAAQD,UAAU,YAAYW,QAASN,EAA/C,eAGA,cAACH,EAAA,EAAD,CAAKD,GAAG,OAAOD,UAAU,YAAYW,QAASN,EAA9C,eAGA,cAACH,EAAA,EAAD,CACED,GAAG,WACHD,UAAU,oBACVW,QAASN,EAHX,kBAQF,eAACN,EAAA,EAAD,WACE,cAACG,EAAA,EAAD,CAAKD,GAAG,OAAOD,UAAU,YAAYW,QAASN,EAA9C,eAGA,cAACH,EAAA,EAAD,CAAKD,GAAG,OAAOD,UAAU,YAAYW,QAASN,EAA9C,eAGA,cAACH,EAAA,EAAD,CAAKD,GAAG,MAAMD,UAAU,YAAYW,QAASN,EAA7C,eAGA,cAACH,EAAA,EAAD,CACED,GAAG,MACHD,UAAU,oBACVW,QAASN,EAHX,kBAQF,eAACN,EAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAKU,GAAI,EAAGZ,UAAU,uBAAtB,UACE,eAACD,EAAA,EAAD,WACE,cAACG,EAAA,EAAD,CAAKD,GAAG,MAAMD,UAAU,YAAYW,QAASN,EAA7C,eAGA,cAACH,EAAA,EAAD,CAAKD,GAAG,MAAMD,UAAU,YAAYW,QAASN,EAA7C,eAGA,cAACH,EAAA,EAAD,CAAKD,GAAG,QAAQD,UAAU,YAAYW,QAASN,EAA/C,kBAIF,eAACN,EAAA,EAAD,WACE,cAACG,EAAA,EAAD,CACEU,GAAI,EACJX,GAAG,OACHD,UAAU,YACVW,QAASN,EAJX,eAQA,cAACH,EAAA,EAAD,CACED,GAAG,UACHD,UAAU,YACVW,QAASN,EAHX,qBASJ,cAACH,EAAA,EAAD,CAAKD,GAAG,SAASD,UAAU,YAAYW,QAASN,EAAhD,uB,ICsbKQ,E,kDAzhBb,WAAYT,GAAQ,IAAD,8BACjB,cAAMA,IACDU,MAAQ,CACXC,WAAY,KACZC,OAAQ,KACRC,UAAU,EACVC,gBAAiB,GACjBC,UAAW,CAAC,IAAK,IAAK,IAAK,KAC3BC,iBAAkB,CAChBC,EAAG,MACHC,EAAG,MACHC,EAAG,QACHC,EAAG,OACHC,EAAG,OACHC,EAAG,MACHC,EAAG,QACHC,EAAG,QACHC,EAAG,OACHC,EAAG,OACH,IAAK,UACLC,OAAQ,QACR,IAAK,SACL,IAAK,WACL,IAAK,MACL,IAAK,WACL,IAAK,SACLC,MAAO,SACPC,UAAW,cAGf,EAAK1B,cAAgB,EAAKA,cAAc2B,KAAnB,gBACrB,EAAKC,gCACH,EAAKA,gCAAgCD,KAArC,gBACF,EAAKE,YAAc,EAAKA,YAAYF,KAAjB,gBAEnB,EAAKG,iCACH,EAAKA,iCAAiCH,KAAtC,gBACF,EAAKI,2BACH,EAAKA,2BAA2BJ,KAAhC,gBACF,EAAKK,gBAAkB,EAAKA,gBAAgBL,KAArB,gBACvB,EAAKM,gBAAkB,EAAKA,gBAAgBN,KAArB,gBACvB,EAAKO,UAAY,EAAKA,UAAUP,KAAf,gBAzCA,E,qDA4CnB,WACEQ,SAASC,iBAAiB,UAAWC,KAAKT,iCAC1CO,SAASC,iBAAiB,QAASC,KAAKR,e,kCAG1C,WACEM,SAASG,oBACP,UACAD,KAAKT,iCAEPO,SAASG,oBAAoB,QAASD,KAAKR,e,6CAG7C,SAAgC9B,GAC9B,IAAMwC,EAAMxC,EAAMwC,IACZC,EAAYH,KAAK9B,MAAMM,iBAAiB0B,IAAQ,KAElDC,IACFH,KAAKrC,cAAcuC,GACAJ,SAASM,eAAeD,GAChCE,UAAUC,IAAI,aACzBN,KAAK9B,MAAMI,gBAAgBiC,KAAKJ,IAEtB,MAARD,GAAaxC,EAAM8C,mB,yBAGzB,WAOE,KAAOR,KAAK9B,MAAMI,gBAAgBmC,OAAS,GAAG,CACzBX,SAASM,eAC1BJ,KAAK9B,MAAMI,gBAAgBoC,OAElBL,UAAUM,OAAO,gB,2BAOhC,SAAcT,GAAM,IAAD,OACXU,EAAW,CACfC,YAAaf,SAASM,eAAe,gBACrCU,cAAehB,SAASM,eAAe,oBAUnCW,EAAW,SAACC,GAAyB,IAAhBC,EAAe,uDAAN,EAC5BC,EAASF,EAAQG,cACjBC,EAAuBC,iBAAiBH,GAE9C,OACEF,EAAQM,aACRJ,EAAOI,YACLC,WAAWH,EAAqBI,aAChCD,WAAWH,EAAqBK,cAChCR,GAQAS,EAAqB,SAACC,GACtBC,UAAUC,UAAUC,SAAS,aAC/BH,EAAKI,MAAMN,aAAeJ,iBACxBM,EAAKR,eACLM,eAMAO,EAA0B,WAC9BpB,EAASE,cAAciB,MAAMN,aAAe,EAC5Cb,EAASC,YAAYkB,MAAMN,aAAe,EAE1Cb,EAASC,YAAYM,cAAcY,MAAME,UAAY,QACrDrB,EAASE,cAAcK,cAAcY,MAAME,UAAY,SAMnDC,EAAqB,WACzBtB,EAASC,YAAYhD,UAAY,GACjC+C,EAASE,cAAcjD,UAAY,KAO/BsE,EAAkB,WAClB,EAAKjE,MAAMC,aACbiE,aAAa,EAAKlE,MAAMC,YACxB,EAAKkE,SAAS,CACZlE,WAAY,SAKZmE,EAAoB,WAAkD,IAAjDC,EAAgD,uDAAnC3B,EAASC,YAAYhD,UAGrD2E,EAAQ,oBACVjE,GAHJgE,EAAaA,EAAWE,QAAQ,KAAM,MAGXC,MAAMF,GAC7BG,EAAWJ,EAAWE,QAAQD,EAAO,KAAKI,MAAM,KAWpD,OATIrE,IACFoE,EAAWA,EAASE,KAAI,SAACC,EAAIzF,GAC3B,OAAIkB,GAAalB,EAAKkB,EAAUkC,OACvBqC,EAAKvE,EAAUlB,GAAI0F,MAAM,GAAI,GAC1BD,KAEdvE,EAAYA,EAAUsE,KAAI,SAACC,GAAD,OAAQA,EAAGC,MAAM,OAGtC,CACLxE,UAAWA,EACXoE,SAAUA,IAOY,OAAtB3C,KAAK9B,MAAME,QACb4D,IAIEhC,KAAK9B,MAAMG,WACb6D,IACAF,IAEAhC,KAAKqC,SAAS,CACZhE,UAAU,KAIT2E,OAAO9C,IAAgB,MAARA,EAQTF,KAAK9B,MAAMK,UAAUuD,SAAS5B,GACvCF,KAAKN,2BAA2BQ,EAAKU,EAAUuB,GAC9B,MAARjC,GAAuB,UAARA,EACxBF,KAAKL,gBACHiB,EACAuB,EACApB,EACAW,EACAY,GAEe,QAARpC,GAAyB,cAARA,EAC1BF,KAAKH,UACHe,EACAG,EACAiB,EACAM,GAGFtC,KAAKJ,gBACHuC,EACAD,EACAF,GA5BFhC,KAAKP,iCACHS,EACAU,EACAG,EACAmB,EACAC,GA2BApB,EAASH,EAASC,eACpBa,EAAmBd,EAASC,aAC5BD,EAASC,YAAYM,cAAc8B,OAAO,CACxCC,KAAMtC,EAASC,YAAYS,iB,8CAKjC,SACEpB,EACAU,EACAG,EACAmB,EACAC,GACC,IA+CKgB,EA/CN,OAQMC,EAAqB,SAACpC,EAASqC,EAAYC,GAC/CA,EAAStC,EAASqC,IAwBT,MAARnD,GAAeU,EAASE,cAAcjD,UAAUiE,SAAS5B,IAChC,OAA1BF,KAAK9B,MAAMC,aAIa,OAAtB6B,KAAK9B,MAAME,SACb8D,IAEAlC,KAAKqC,SAAS,CACZjE,OAAQ,QA1Be,WACzB,GAAI2C,EAASH,EAASE,cAAe,IAAK,CACxC,IAAMyC,EAAgB3C,EAASE,cAAcjD,UAU7C,OARA+C,EAASE,cAAcjD,UAAY,YACnC,EAAKwE,SAAS,CACZlE,WAAYqF,YAAW,WACrB5C,EAASE,cAAcjD,UAAY0F,EACnCpB,MACC,QAGE,EACF,OAAO,EAiBXsB,KAGDN,EADU,MAARjD,EACW,SAACc,EAASqC,GACrB,IAAMK,EAAkB,KAGpB1C,EAAQnD,YAAcwF,EACxBrC,EAAQnD,UAAY6F,EACb,EAAKxF,MAAMK,UAAUuD,SAASd,EAAQnD,WAC7CmD,EAAQnD,WACiB,MAAtBmD,EAAQnD,UAAoB,IAAM,IAAM6F,EAE3C,EAAKxF,MAAMK,UAAUuD,SACnBd,EAAQnD,UAAU8F,OAAO3C,EAAQnD,UAAU4C,OAAS,IAGtDO,EAAQnD,WAAa6F,EAClB1C,EAAQnD,WAAaqC,GAGf,SAACc,EAASqC,GAErB,IAAMO,EAAa5C,EAAQnD,UACrBgG,EAAc,EAAK3F,MAAMK,UAAUuF,QAAO,SAACzG,EAAIyF,GAEnD,OADAzF,EAAK0G,KAAKC,IAAI3G,EAAIuG,EAAWK,YAAYnB,OAEvC,GAEA,CAACO,EAAY,IAAK,IAAK,IAAK,KAAKvB,SAAS8B,GAC5C5C,EAAQnD,UAAYqC,EAEyB,MAA7C0D,EAAWD,OAAOC,EAAWnD,OAAS,KACrB,IAAjBoD,GACsC,MAAtCD,EAAWb,MAAMc,EAAc,GAG/B7C,EAAQnD,UAAY+F,EAAWb,MAAM,GAAI,GAAK7C,EACzCc,EAAQnD,WAAaqC,GAIhCkD,EAAmBxC,EAASC,YAAa,GAAIsC,GAC7CC,EAAmBxC,EAASE,cAAe,GAAIqC,O,wCAInD,SAA2BjD,EAAKU,EAAUuB,GACd,OAAtBnC,KAAK9B,MAAME,SACbwC,EAASC,YAAYhD,UAAYmC,KAAK9B,MAAME,OAE5C4B,KAAKqC,SAAS,CACZjE,OAAQ,QAGZ+D,IAYA,IAAM+B,EAAiBtD,EAASC,YAAYhD,UACtCsG,EAAWD,EAAeP,OAAOO,EAAezD,OAAS,GACzD2D,EAAeF,EAAeP,OAAOO,EAAezD,OAAS,GAC7D4D,EAAmBrE,KAAK9B,MAAMK,UAAUuD,SAASsC,GAGlC,KAAnBF,GACAlE,KAAK9B,MAAMK,UAAUuD,SAASoC,GAE9BtD,EAASC,YAAYhD,UAAYqC,EAEhC8C,OAAOkB,IACPlB,OAAOmB,IACK,MAAbA,EAQY,MAARjE,EACGmE,IACHzD,EAASC,YAAYhD,WAAaqC,GAGpCU,EAASC,YAAYhD,UACnB+C,EAASC,YAAYhD,UAAUkF,MAAM,EAAIsB,GAAyB,GAAL,GAC7DnE,EAbJU,EAASC,YAAYhD,YAA2B,MAAbsG,EAAmB,IAAM,IAAMjE,EAiBpEU,EAASE,cAAcjD,UAAYqC,I,uBAGrC,SAAUU,EAAUG,EAAUiB,EAAyBM,GAcrD,GAbA1B,EAASC,YAAYhD,UAAY+C,EAASC,YAAYhD,UAAUkF,MAC9D,GACC,GAEHnC,EAASE,cAAcjD,UAAY+C,EAASE,cAAcjD,UAAUkF,MAClE,GACC,GAGCnC,EAASC,YAAYhD,UAAU4C,OAAS,IAC1CG,EAASC,YAAYhD,UAAY,IAG/B+C,EAASE,cAAcjD,UAAU4C,OAAS,EAC5C,GAAIG,EAASC,YAAYhD,UAAU4C,OAAS,EAAG,CAAC,IAAD,EACf6B,IAAxB/D,EADuC,EACvCA,UAAWoE,EAD4B,EAC5BA,SAEqB,KAAlCA,EAASA,EAASlC,OAAS,GAC7BG,EAASE,cAAcjD,UAAYU,EAAUA,EAAUkC,OAAS,GAEhEG,EAASE,cAAcjD,UAAY8E,EAASA,EAASlC,OAAS,QAGhEG,EAASE,cAAcjD,UAAY,IAIlCkD,EAASH,EAASC,cACrBmB,M,6BAIJ,SACEpB,EACAuB,EACApB,EACAW,EACAY,GAEAH,IADA,IASImC,EATJ,EAI8BhC,IAAxB/D,EAJN,EAIMA,UAAWoE,EAJjB,EAIiBA,SAOjB,IACE,IAAI4B,EAAc5B,EAASA,EAASlC,OAAS,GAE7C,GAAoB,KAAhB8D,GAAsC,MAAhBA,EACxB,MAAM,IAAIC,MAAM,iBACX,GAA8B,MAA1BD,EAAYxB,OAAO,GAC5B,MAAM,IAAIyB,MAAM,sBACX,GAAKjG,EAGL,CAmCL+F,EAlCuB,SAAC/F,EAAWoE,GAGjC,IAFA,IAAM8B,EAAQ,EAAE9B,EAAS+B,SAElBnG,EAAUkC,OAAS,GAAG,CAC3B,IAAMkE,EAAWpG,EAAUmG,QACrBE,GAAWjC,EAAS+B,QAE1B,GAAiB,MAAbC,GAAiC,MAAbA,EACtBF,EAAMlE,KAAKoE,EAAUC,QAErB,GAAiB,MAAbD,EACFF,EAAMlE,KAAKkE,EAAM/D,MAAQkE,OACpB,CACL,GAAI,CAAC,GAAI,GAAG9C,SAAS8C,GACnB,MAAM,IAAIJ,MAAM,kBAClBC,EAAMlE,KAAKkE,EAAM/D,MAAQkE,IAK/B,KAAOH,EAAMhE,OAAS,GAAG,CACvB,IAAMoE,EAAaJ,EAAMC,QAGR,MAFAD,EAAMC,QAGrBD,EAAMK,QAAQD,EAAaJ,EAAMC,SAEjCD,EAAMK,QAAQD,EAAaJ,EAAMC,SAIrC,OAAOD,EAAM,GAGPM,CAAexG,EAAWoE,OArCd,OAAhBA,EAAS,KAAaA,EAAS,GAAK,KACxC2B,GAAS3B,EAAS,IAAM,EAsC1B,MAAOqC,GAAM,IAAD,EAEVA,EAAIC,QAAQrC,MAAM,KAFR,mBAWZ,OAVChC,EAASC,YAAYhD,UADV,KACqB+C,EAASE,cAAcjD,UAD5C,KAIZ+C,EAASC,YAAYM,cAAcY,MAAME,UAAY,OACrDrB,EAASE,cAAcK,cAAcY,MAAME,UAAY,YAEvDjC,KAAKqC,SAAS,CACZjE,OAAQ,KACRC,UAAU,IAKduC,EAASE,cAAcjD,UAAYyG,EAE/BvD,EAASH,EAASE,gBACpBY,EAAmBd,EAASE,eAG9Bd,KAAKqC,SAAS,CACZjE,OAAQkG,M,6BAIZ,SACEnC,EACAD,EACAF,GAEAG,IACAD,IACAF,IAEAhC,KAAKqC,SAAS,CACZjE,OAAQ,S,oBAIZ,WACE,OACE,eAACN,EAAA,EAAD,CAAWT,GAAG,kBAAd,UACE,cAACH,EAAD,IACA,cAACK,EAAD,CAAQI,cAAeqC,KAAKrC,uB,GAphBjBuH,a,YCQJC,MARf,WACE,OACE,cAACrH,EAAA,EAAD,CAAWT,GAAG,kBAAkBD,UAAU,qBAA1C,SACE,cAAC,EAAD,OCISgI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjG,SAASM,eAAe,SAM1BgF,M","file":"static/js/main.03aec393.chunk.js","sourcesContent":["import Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nexport default function Display() {\n  return (\n    <Row className=\"row-container\" id=\"display-container\">\n      <Col id=\"display\">\n        <span id=\"display-text\"></span>\n      </Col>\n      <hr />\n      <Col id=\"op-display\">\n        <span id=\"op-display-text\">0</span>\n      </Col>\n    </Row>\n  );\n}\n","import Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nexport default function Keypad(props) {\n  const keyPressCallback = (event) =>\n    props.updateDisplay(event.target.innerHTML);\n\n  return (\n    <Row className=\"row-container\" id=\"keypad-container\">\n      <Container id=\"keypad\">\n        <Row>\n          <Col id=\"clear\" className=\"clickable\" onClick={keyPressCallback}>\n            AC\n          </Col>\n          <Col\n            id=\"divide\"\n            className=\"operand clickable\"\n            onClick={keyPressCallback}\n          >\n            /\n          </Col>\n          <Col\n            id=\"multiply\"\n            className=\"operand clickable\"\n            onClick={keyPressCallback}\n          >\n            *\n          </Col>\n          <Col\n            xs={3}\n            id=\"backspace\"\n            className=\"clickable\"\n            onClick={keyPressCallback}\n          >\n            DEL\n          </Col>\n        </Row>\n        <Row>\n          <Col id=\"seven\" className=\"clickable\" onClick={keyPressCallback}>\n            7\n          </Col>\n          <Col id=\"eight\" className=\"clickable\" onClick={keyPressCallback}>\n            8\n          </Col>\n          <Col id=\"nine\" className=\"clickable\" onClick={keyPressCallback}>\n            9\n          </Col>\n          <Col\n            id=\"subtract\"\n            className=\"operand clickable\"\n            onClick={keyPressCallback}\n          >\n            -\n          </Col>\n        </Row>\n        <Row>\n          <Col id=\"four\" className=\"clickable\" onClick={keyPressCallback}>\n            4\n          </Col>\n          <Col id=\"five\" className=\"clickable\" onClick={keyPressCallback}>\n            5\n          </Col>\n          <Col id=\"six\" className=\"clickable\" onClick={keyPressCallback}>\n            6\n          </Col>\n          <Col\n            id=\"add\"\n            className=\"operand clickable\"\n            onClick={keyPressCallback}\n          >\n            +\n          </Col>\n        </Row>\n        <Row>\n          <Col xs={9} className=\"no-border nested-row\">\n            <Row>\n              <Col id=\"one\" className=\"clickable\" onClick={keyPressCallback}>\n                1\n              </Col>\n              <Col id=\"two\" className=\"clickable\" onClick={keyPressCallback}>\n                2\n              </Col>\n              <Col id=\"three\" className=\"clickable\" onClick={keyPressCallback}>\n                3\n              </Col>\n            </Row>\n            <Row>\n              <Col\n                xs={8}\n                id=\"zero\"\n                className=\"clickable\"\n                onClick={keyPressCallback}\n              >\n                0\n              </Col>\n              <Col\n                id=\"decimal\"\n                className=\"clickable\"\n                onClick={keyPressCallback}\n              >\n                .\n              </Col>\n            </Row>\n          </Col>\n          <Col id=\"equals\" className=\"clickable\" onClick={keyPressCallback}>\n            =\n          </Col>\n        </Row>\n      </Container>\n    </Row>\n  );\n}\n","import { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Display from \"./DisplayComponent\";\nimport Keypad from \"./KeypadComponent\";\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      timeoutObj: null,\n      result: null,\n      hasError: false,\n      pressedElements: [],\n      operators: [\"+\", \"-\", \"*\", \"/\"],\n      keyToClickableId: {\n        1: \"one\",\n        2: \"two\",\n        3: \"three\",\n        4: \"four\",\n        5: \"five\",\n        6: \"six\",\n        7: \"seven\",\n        8: \"eight\",\n        9: \"nine\",\n        0: \"zero\",\n        \".\": \"decimal\",\n        Escape: \"clear\",\n        \"/\": \"divide\",\n        \"*\": \"multiply\",\n        \"+\": \"add\",\n        \"-\": \"subtract\",\n        \"=\": \"equals\",\n        Enter: \"equals\",\n        Backspace: \"backspace\",\n      },\n    };\n    this.updateDisplay = this.updateDisplay.bind(this);\n    this.detectKeyStrokeAndUpdateDisplay =\n      this.detectKeyStrokeAndUpdateDisplay.bind(this);\n    this.resetKeypad = this.resetKeypad.bind(this);\n\n    this.updateDisplayWithNumberOrDecimal =\n      this.updateDisplayWithNumberOrDecimal.bind(this);\n    this.updateDisplayWithOperators =\n      this.updateDisplayWithOperators.bind(this);\n    this.calculateResult = this.calculateResult.bind(this);\n    this.resetCalculator = this.resetCalculator.bind(this);\n    this.backspace = this.backspace.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.detectKeyStrokeAndUpdateDisplay);\n    document.addEventListener(\"keyup\", this.resetKeypad);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\n      \"keydown\",\n      this.detectKeyStrokeAndUpdateDisplay\n    );\n    document.removeEventListener(\"keyup\", this.resetKeypad);\n  }\n\n  detectKeyStrokeAndUpdateDisplay(event) {\n    const key = event.key;\n    const elementId = this.state.keyToClickableId[key] || null;\n\n    if (elementId) {\n      this.updateDisplay(key);\n      const keyElement = document.getElementById(elementId);\n      keyElement.classList.add(\"keyActive\");\n      this.state.pressedElements.push(elementId);\n    }\n    if (key === \"/\") event.preventDefault();\n  }\n\n  resetKeypad() {\n    /*\n    Clear keyActive classes for all elements which id \n    is stored in pressedElements array to prevent clickable keypads\n    from being unable to restore the unclicked styling when they\n    are pressed and released at the same time.\n    */\n    while (this.state.pressedElements.length > 0) {\n      const keyElement = document.getElementById(\n        this.state.pressedElements.pop()\n      );\n      keyElement.classList.remove(\"keyActive\");\n    }\n  }\n\n  /*\n   * Need to fix jumping to another line problem when \"-\" is typed into a number just not exceeding limit.\n   */\n  updateDisplay(key) {\n    const spanObjs = {\n      displaySpan: document.getElementById(\"display-text\"),\n      opDisplaySpan: document.getElementById(\"op-display-text\"),\n    };\n\n    // Helper methods.\n\n    /**\n     * Check whether the length of element stored with strings exceeds the length of outer div container minus an offset to prevent span element from being pushed to the right.\n     * @param {HTMLElement} element\n     * @returns A boolean of whether the element width exceeds the difference between container width and offset.\n     */\n    const isExceed = (element, offset = 0) => {\n      const parent = element.parentElement;\n      const parentComputedStyles = getComputedStyle(parent);\n\n      return (\n        element.clientWidth >=\n        parent.clientWidth -\n          parseFloat(parentComputedStyles.paddingLeft) -\n          parseFloat(parentComputedStyles.paddingRight) -\n          offset\n      );\n    };\n\n    /**\n     * Create a right padding when span width exceeds width of its outer container.\n     * @param {HTMLElement} span\n     */\n    const createRightPadding = (span) => {\n      if (navigator.userAgent.includes(\"Firefox\"))\n        span.style.paddingRight = getComputedStyle(\n          span.parentElement\n        ).paddingRight;\n    };\n\n    /**\n     * Reset related styling of spans.\n     */\n    const resetSpanRelatedStyling = () => {\n      spanObjs.opDisplaySpan.style.paddingRight = 0;\n      spanObjs.displaySpan.style.paddingRight = 0;\n\n      spanObjs.displaySpan.parentElement.style.textAlign = \"right\";\n      spanObjs.opDisplaySpan.parentElement.style.textAlign = \"right\";\n    };\n\n    /**\n     * Reset inner HTML content of spans.\n     */\n    const resetSpanInnerHTML = () => {\n      spanObjs.displaySpan.innerHTML = \"\";\n      spanObjs.opDisplaySpan.innerHTML = \"0\";\n    };\n\n    /**\n     * Clear the timeout object stored in the component state.\n     * @returns nothing.\n     */\n    const clearTimeoutObj = () => {\n      if (this.state.timeoutObj) {\n        clearTimeout(this.state.timeoutObj);\n        this.setState({\n          timeoutObj: null,\n        });\n      }\n    };\n\n    const decodeMathFormula = (formulaStr = spanObjs.displaySpan.innerHTML) => {\n      formulaStr = formulaStr.replace(\"--\", \"+\");\n\n      const regex = /[\\d.](?:[+\\-*/])/g;\n      let operators = formulaStr.match(regex);\n      let operands = formulaStr.replace(regex, \",\").split(\",\");\n\n      if (operators) {\n        operands = operands.map((op, id) => {\n          if (operators && id < operators.length)\n            return op + operators[id].slice(0, -1);\n          else return op;\n        });\n        operators = operators.map((op) => op.slice(1));\n      }\n\n      return {\n        operators: operators,\n        operands: operands,\n      };\n    };\n\n    // End of helper functions.\n\n    // Reset right padding for both spans if result is not null.\n    if (this.state.result !== null) {\n      resetSpanRelatedStyling();\n    }\n\n    // Reset display value of spans if error has occured.\n    if (this.state.hasError) {\n      resetSpanInnerHTML();\n      resetSpanRelatedStyling();\n\n      this.setState({\n        hasError: false,\n      });\n    }\n\n    if (!isNaN(+key) || key === \".\") {\n      this.updateDisplayWithNumberOrDecimal(\n        key,\n        spanObjs,\n        isExceed,\n        resetSpanInnerHTML,\n        clearTimeoutObj\n      );\n    } else if (this.state.operators.includes(key)) {\n      this.updateDisplayWithOperators(key, spanObjs, clearTimeoutObj);\n    } else if (key === \"=\" || key === \"Enter\") {\n      this.calculateResult(\n        spanObjs,\n        clearTimeoutObj,\n        isExceed,\n        createRightPadding,\n        decodeMathFormula\n      );\n    } else if (key === \"DEL\" || key === \"Backspace\") {\n      this.backspace(\n        spanObjs,\n        isExceed,\n        resetSpanRelatedStyling,\n        decodeMathFormula\n      );\n    } else {\n      this.resetCalculator(\n        clearTimeoutObj,\n        resetSpanInnerHTML,\n        resetSpanRelatedStyling\n      );\n    }\n\n    if (isExceed(spanObjs.displaySpan)) {\n      createRightPadding(spanObjs.displaySpan);\n      spanObjs.displaySpan.parentElement.scroll({\n        left: spanObjs.displaySpan.clientWidth,\n      });\n    }\n  }\n\n  updateDisplayWithNumberOrDecimal(\n    key,\n    spanObjs,\n    isExceed,\n    resetSpanInnerHTML,\n    clearTimeoutObj\n  ) {\n    /**\n     * Add the provided key in the way specified in callback function.\n     *\n     * @param {HTMLElement} element The key-receiving span element.\n     * @param {String} initialStr A default string inside the element.\n     * @param {Function} callback A callback function receiving element and initialStr to decide how to add a key into inner HTML of the element.\n     */\n    const validateAndCombine = (element, initialStr, callback) => {\n      callback(element, initialStr);\n    };\n\n    /**\n     * Set up a timeout object if the onDisplaySpan width exceeds\n     * @returns true if a timeout object is set. False otherwise.\n     */\n    const hasSetUpTimeoutObj = () => {\n      if (isExceed(spanObjs.opDisplaySpan, 20)) {\n        const prevOpDispVal = spanObjs.opDisplaySpan.innerHTML;\n\n        spanObjs.opDisplaySpan.innerHTML = \"LIMIT MET\";\n        this.setState({\n          timeoutObj: setTimeout(() => {\n            spanObjs.opDisplaySpan.innerHTML = prevOpDispVal;\n            clearTimeoutObj();\n          }, 1000),\n        });\n\n        return true;\n      } else return false;\n    };\n\n    if (\n      (key === \".\" && spanObjs.opDisplaySpan.innerHTML.includes(key)) ||\n      this.state.timeoutObj !== null\n    )\n      return;\n\n    if (this.state.result !== null) {\n      resetSpanInnerHTML();\n\n      this.setState({\n        result: null,\n      });\n    }\n\n    if (!hasSetUpTimeoutObj()) {\n      let callbackFn;\n      if (key === \".\") {\n        callbackFn = (element, initialStr) => {\n          const decimalWithZero = \"0.\";\n\n          // If key is a decimal.\n          if (element.innerHTML === initialStr)\n            element.innerHTML = decimalWithZero;\n          else if (this.state.operators.includes(element.innerHTML))\n            element.innerHTML =\n              (element.innerHTML === \"-\" ? \"-\" : \"\") + decimalWithZero;\n          else if (\n            this.state.operators.includes(\n              element.innerHTML.charAt(element.innerHTML.length - 1)\n            )\n          )\n            element.innerHTML += decimalWithZero;\n          else element.innerHTML += key;\n        };\n      } else {\n        callbackFn = (element, initialStr) => {\n          // If key is not a decimal.\n          const elementStr = element.innerHTML;\n          const lastIdxOfOp = this.state.operators.reduce((id, op) => {\n            id = Math.max(id, elementStr.lastIndexOf(op));\n            return id;\n          }, -1);\n\n          if ([initialStr, \"0\", \"+\", \"*\", \"/\"].includes(elementStr))\n            element.innerHTML = key;\n          else if (\n            elementStr.charAt(elementStr.length - 1) === \"0\" &&\n            lastIdxOfOp !== -1 &&\n            elementStr.slice(lastIdxOfOp + 1) === \"0\"\n          ) {\n            // The case that the last digit is zero and the last number is not a decimal number.\n            element.innerHTML = elementStr.slice(0, -1) + key;\n          } else element.innerHTML += key;\n        };\n      }\n\n      validateAndCombine(spanObjs.displaySpan, \"\", callbackFn);\n      validateAndCombine(spanObjs.opDisplaySpan, \"\", callbackFn);\n    }\n  }\n\n  updateDisplayWithOperators(key, spanObjs, clearTimeoutObj) {\n    if (this.state.result !== null) {\n      spanObjs.displaySpan.innerHTML = this.state.result;\n\n      this.setState({\n        result: null,\n      });\n    }\n    clearTimeoutObj();\n\n    // Need to separate the case that key is \"-\" and key is not \"-\".\n    /**\n     * Possible cases in spanObjs.displaySpan.innerHTML:\n     * 1. Only contains \"&nbsp;\".\n     * 2. Only contains a number (integer or decimal number) or operator.\n     * 3. The last character is a digit or decimal.\n     * 4. The last character is an operator.\n     *    4a. Only the last character is an operator.\n     *    4b. The second last character is also an operator.\n     */\n    const displaySpanStr = spanObjs.displaySpan.innerHTML;\n    const lastChar = displaySpanStr.charAt(displaySpanStr.length - 1);\n    const nextLastChar = displaySpanStr.charAt(displaySpanStr.length - 2);\n    const nextLastCharIsOp = this.state.operators.includes(nextLastChar);\n\n    if (\n      displaySpanStr === \"\" ||\n      this.state.operators.includes(displaySpanStr)\n    ) {\n      spanObjs.displaySpan.innerHTML = key;\n    } else if (\n      !isNaN(+displaySpanStr) ||\n      !isNaN(+lastChar) ||\n      lastChar === \".\"\n    ) {\n      spanObjs.displaySpan.innerHTML += (lastChar === \".\" ? \"0\" : \"\") + key;\n    } else {\n      /**\n       * Case 1: [0-9.](*)-\n       * Case 2: [0-9.](*)\n       */\n      if (key === \"-\") {\n        if (!nextLastCharIsOp) {\n          spanObjs.displaySpan.innerHTML += key;\n        }\n      } else {\n        spanObjs.displaySpan.innerHTML =\n          spanObjs.displaySpan.innerHTML.slice(0, !nextLastCharIsOp ? -1 : -2) +\n          key;\n      }\n    }\n\n    spanObjs.opDisplaySpan.innerHTML = key;\n  }\n\n  backspace(spanObjs, isExceed, resetSpanRelatedStyling, decodeMathFormula) {\n    spanObjs.displaySpan.innerHTML = spanObjs.displaySpan.innerHTML.slice(\n      0,\n      -1\n    );\n    spanObjs.opDisplaySpan.innerHTML = spanObjs.opDisplaySpan.innerHTML.slice(\n      0,\n      -1\n    );\n\n    if (spanObjs.displaySpan.innerHTML.length < 1) {\n      spanObjs.displaySpan.innerHTML = \"\";\n    }\n\n    if (spanObjs.opDisplaySpan.innerHTML.length < 1) {\n      if (spanObjs.displaySpan.innerHTML.length > 0) {\n        let { operators, operands } = decodeMathFormula();\n\n        if (operands[operands.length - 1] === \"\") {\n          spanObjs.opDisplaySpan.innerHTML = operators[operators.length - 1];\n        } else {\n          spanObjs.opDisplaySpan.innerHTML = operands[operands.length - 1];\n        }\n      } else {\n        spanObjs.opDisplaySpan.innerHTML = \"0\";\n      }\n    }\n\n    if (!isExceed(spanObjs.displaySpan)) {\n      resetSpanRelatedStyling();\n    }\n  }\n\n  calculateResult(\n    spanObjs,\n    clearTimeoutObj,\n    isExceed,\n    createRightPadding,\n    decodeMathFormula\n  ) {\n    clearTimeoutObj();\n\n    // Calculate the result according to fomula logic.\n    let { operators, operands } = decodeMathFormula();\n\n    // console.log(operators, operands);\n    // return;\n\n    let value;\n\n    try {\n      let lastOperand = operands[operands.length - 1];\n\n      if (lastOperand === \"\" || lastOperand === \"-\") {\n        throw new Error(\"ERROR,FORMULA\");\n      } else if (lastOperand.slice(-1) === \".\") {\n        throw new Error(\"ERROR,LAST OPERAND\");\n      } else if (!operators) {\n        if (operands[0] === \"-0\") operands[0] = \"0\";\n        value = +operands[0] || 0;\n      } else {\n        const calculateValue = (operators, operands) => {\n          const stack = [+operands.shift()];\n\n          while (operators.length > 0) {\n            const operator = operators.shift();\n            const operand = +operands.shift();\n\n            if (operator === \"+\" || operator === \"-\") {\n              stack.push(operator, operand);\n            } else {\n              if (operator === \"*\") {\n                stack.push(stack.pop() * operand);\n              } else {\n                if ([0, -0].includes(operand))\n                  throw new Error(\"ERROR,DIV BY 0\");\n                stack.push(stack.pop() / operand);\n              }\n            }\n          }\n\n          while (stack.length > 1) {\n            const operandOne = stack.shift();\n            const operator = stack.shift();\n\n            if (operator === \"+\") {\n              stack.unshift(operandOne + stack.shift());\n            } else {\n              stack.unshift(operandOne - stack.shift());\n            }\n          }\n\n          return stack[0];\n        };\n\n        value = calculateValue(operators, operands);\n      }\n    } catch (err) {\n      [spanObjs.displaySpan.innerHTML, spanObjs.opDisplaySpan.innerHTML] =\n        err.message.split(\",\");\n\n      spanObjs.displaySpan.parentElement.style.textAlign = \"left\";\n      spanObjs.opDisplaySpan.parentElement.style.textAlign = \"left\";\n\n      this.setState({\n        result: null,\n        hasError: true,\n      });\n      return;\n    }\n\n    spanObjs.opDisplaySpan.innerHTML = value;\n\n    if (isExceed(spanObjs.opDisplaySpan)) {\n      createRightPadding(spanObjs.opDisplaySpan);\n    }\n\n    this.setState({\n      result: value,\n    });\n  }\n\n  resetCalculator(\n    clearTimeoutObj,\n    resetSpanInnerHTML,\n    resetSpanRelatedStyling\n  ) {\n    clearTimeoutObj();\n    resetSpanInnerHTML();\n    resetSpanRelatedStyling();\n\n    this.setState({\n      result: null,\n    });\n  }\n\n  render() {\n    return (\n      <Container id=\"calculator-body\">\n        <Display />\n        <Keypad updateDisplay={this.updateDisplay} />\n      </Container>\n    );\n  }\n}\n\nexport default Main;\n","import Main from \"./components/MainComponent\";\nimport Container from \"react-bootstrap/Container\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.scss\";\n\nfunction App() {\n  return (\n    <Container id=\"outer-container\" className=\"align-items-center\">\n      <Main />\n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}