(this["webpackJsonpjavascript-calculator"]=this["webpackJsonpjavascript-calculator"]||[]).push([[0],{21:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),s=n(12),l=n.n(s),c=(n(21),n(10)),r=n(13),p=n(14),d=n(7),o=n(16),u=n(15),h=n(9),y=n(4),j=n(1),b=n(0);function m(){return Object(b.jsxs)(y.a,{className:"row-container",id:"display-container",children:[Object(b.jsx)(j.a,{id:"display",children:Object(b.jsx)("span",{id:"display-text",children:"\xa0"})}),Object(b.jsx)("hr",{}),Object(b.jsx)(j.a,{id:"op-display",children:Object(b.jsx)("span",{id:"op-display-text",children:"0"})})]})}function f(e){var t=function(t){return e.updateDisplay(t.target.innerHTML)};return Object(b.jsx)(y.a,{className:"row-container",id:"keypad-container",children:Object(b.jsxs)(h.a,{id:"keypad",children:[Object(b.jsxs)(y.a,{children:[Object(b.jsx)(j.a,{xs:6,id:"clear",className:"clickable",onClick:t,children:"AC"}),Object(b.jsx)(j.a,{id:"divide",className:"operand clickable",onClick:t,children:"/"}),Object(b.jsx)(j.a,{id:"multiply",className:"operand clickable",onClick:t,children:"*"})]}),Object(b.jsxs)(y.a,{children:[Object(b.jsx)(j.a,{id:"seven",className:"clickable",onClick:t,children:"7"}),Object(b.jsx)(j.a,{id:"eight",className:"clickable",onClick:t,children:"8"}),Object(b.jsx)(j.a,{id:"nine",className:"clickable",onClick:t,children:"9"}),Object(b.jsx)(j.a,{id:"subtract",className:"operand clickable",onClick:t,children:"-"})]}),Object(b.jsxs)(y.a,{children:[Object(b.jsx)(j.a,{id:"four",className:"clickable",onClick:t,children:"4"}),Object(b.jsx)(j.a,{id:"five",className:"clickable",onClick:t,children:"5"}),Object(b.jsx)(j.a,{id:"six",className:"clickable",onClick:t,children:"6"}),Object(b.jsx)(j.a,{id:"add",className:"operand clickable",onClick:t,children:"+"})]}),Object(b.jsxs)(y.a,{children:[Object(b.jsxs)(j.a,{xs:9,className:"no-border nested-row",children:[Object(b.jsxs)(y.a,{children:[Object(b.jsx)(j.a,{id:"one",className:"clickable",onClick:t,children:"1"}),Object(b.jsx)(j.a,{id:"two",className:"clickable",onClick:t,children:"2"}),Object(b.jsx)(j.a,{id:"three",className:"clickable",onClick:t,children:"3"})]}),Object(b.jsxs)(y.a,{children:[Object(b.jsx)(j.a,{xs:8,id:"zero",className:"clickable",onClick:t,children:"0"}),Object(b.jsx)(j.a,{id:"decimal",className:"clickable",onClick:t,children:"."})]})]}),Object(b.jsx)(j.a,{id:"equals",className:"clickable",onClick:t,children:"="})]})]})})}var O=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={timeoutObj:null,containerOffset:20,result:null,hasError:!1,pressedElements:[],operators:["+","-","*","/"],keyToClickableId:{1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",0:"zero",".":"decimal",Escape:"clear","/":"divide","*":"multiply","+":"add","-":"subtract","=":"equals",Enter:"equals"}},a.updateDisplay=a.updateDisplay.bind(Object(d.a)(a)),a.detectKeyStrokeAndUpdateDisplay=a.detectKeyStrokeAndUpdateDisplay.bind(Object(d.a)(a)),a.resetKeypad=a.resetKeypad.bind(Object(d.a)(a)),a.findElementId=a.findElementId.bind(Object(d.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.detectKeyStrokeAndUpdateDisplay),document.addEventListener("keyup",this.resetKeypad)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.detectKeyStrokeAndUpdateDisplay),document.removeEventListener("keyup",this.resetKeypad)}},{key:"findElementId",value:function(e){return this.state.keyToClickableId[e]||null}},{key:"detectKeyStrokeAndUpdateDisplay",value:function(e){var t=e.key,n=this.findElementId(t);n&&(this.updateDisplay(t),document.getElementById(n).classList.add("keyActive"),this.state.pressedElements.push(n));"/"===t&&e.preventDefault()}},{key:"resetKeypad",value:function(){for(;this.state.pressedElements.length>0;){document.getElementById(this.state.pressedElements.pop()).classList.remove("keyActive")}}},{key:"updateDisplay",value:function(e){var t=this,n={displaySpan:document.querySelector("#display > span"),opDisplaySpan:document.querySelector("#op-display > span")},a=function(){t.state.timeoutObj&&(clearTimeout(t.state.timeoutObj),t.setState({timeoutObj:null}))},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.parentElement,a=getComputedStyle(n);return e.clientWidth>=n.clientWidth-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-t},s=function(e){navigator.userAgent.includes("Firefox")&&(e.style.paddingRight=getComputedStyle(e.parentElement).paddingRight)},l=function(){n.opDisplaySpan.style.paddingRight=0,n.displaySpan.style.paddingRight=0,n.displaySpan.parentElement.style.textAlign="right",n.opDisplaySpan.parentElement.style.textAlign="right"},r=function(){n.displaySpan.innerHTML="&nbsp;",n.opDisplaySpan.innerHTML="0"},p=function(e,t,n){n(e,t)};if(null!==this.state.result&&l(),this.state.hasError&&(r(),this.setState({hasError:!1})),isNaN(+e)&&"."!==e)if(this.state.operators.includes(e)){null!==this.state.result&&(n.displaySpan.innerHTML=this.state.result,this.setState({result:null})),a();var d=n.displaySpan.innerHTML,o=d.charAt(d.length-1),u=d.charAt(d.length-2),h=this.state.operators.includes(u);"&nbsp;"===d||this.state.operators.includes(d)?n.displaySpan.innerHTML=e:isNaN(+d)&&isNaN(+o)&&"."!==o?"-"===e?h||(n.displaySpan.innerHTML+=e):n.displaySpan.innerHTML=n.displaySpan.innerHTML.slice(0,h?-2:-1)+e:n.displaySpan.innerHTML+=("."===o?"0":"")+e,n.opDisplaySpan.innerHTML=e}else if("="===e||"Enter"===e){a();var y,j=/[\d.](?:[+\-*/])/g,b=n.displaySpan.innerHTML.match(j),m=n.displaySpan.innerHTML.replace(j,",").split(",");b&&(m=m.map((function(e,t){return b&&t<b.length?e+b[t].slice(0,-1):e})),b=b.map((function(e){return e.slice(1)})));try{var f=m[m.length-1];if(""===f||"-"===f)throw new Error("ERROR,FORMULA");if("."===f.slice(-1))throw new Error("ERROR,LAST OPERAND");if(b){y=function(e,t){for(var n=[+t.shift()];e.length>0;){var a=e.shift(),i=+t.shift();if("+"===a||"-"===a)n.push(a,i);else if("*"===a)n.push(n.pop()*i);else{if([0,-0].includes(i))throw new Error("ERROR,DIV BY 0");n.push(n.pop()/i)}}for(;n.length>1;){var s=n.pop();"+"===n.pop()?n.push(n.pop()+s):n.push(n.pop()-s)}return n[0]}(b,m)}else"-0"===m[0]&&(m[0]="0"),y=+m[0]||0}catch(x){var O=x.message.split(","),k=Object(c.a)(O,2);return n.displaySpan.innerHTML=k[0],n.opDisplaySpan.innerHTML=k[1],n.displaySpan.parentElement.style.textAlign="left",n.opDisplaySpan.parentElement.style.textAlign="left",void this.setState({result:null,hasError:!0})}n.opDisplaySpan.innerHTML=y,i(n.opDisplaySpan)&&s(n.opDisplaySpan),this.setState({result:y})}else a(),r(),l(),this.setState({result:null});else{if("."===e&&n.opDisplaySpan.innerHTML.includes(e)||null!==this.state.timeoutObj)return;if(null!==this.state.result&&(r(),this.setState({result:null})),!function(){if(i(n.opDisplaySpan,t.state.containerOffset)){var e=n.opDisplaySpan.innerHTML;return n.opDisplaySpan.innerHTML="LIMIT MET",t.setState({timeoutObj:setTimeout((function(){n.opDisplaySpan.innerHTML=e,a()}),1e3)}),!0}return!1}()){var S="."===e?function(n,a){n.innerHTML===a?n.innerHTML="0".concat(e):t.state.operators.includes(n.innerHTML)?n.innerHTML=("-"===n.innerHTML?"-":"")+"0".concat(e):t.state.operators.includes(n.innerHTML.charAt(n.innerHTML.length-1))?n.innerHTML+="0".concat(e):n.innerHTML+=e}:function(n,a){var i=n.innerHTML,s=t.state.operators.reduce((function(e,t){return e=Math.max(e,i.lastIndexOf(t))}),-1);[a,"0","+","*","/"].includes(i)?n.innerHTML=e:"0"===i.charAt(i.length-1)&&-1!==s&&"0"===i.slice(s+1)?n.innerHTML=i.slice(0,-1)+e:n.innerHTML+=e};p(n.displaySpan,"&nbsp;",S),p(n.opDisplaySpan,"",S)}}i(n.displaySpan)&&(s(n.displaySpan),n.displaySpan.parentElement.scroll({left:n.displaySpan.clientWidth}))}},{key:"render",value:function(){return Object(b.jsxs)(h.a,{id:"calculator-body",children:[Object(b.jsx)(m,{}),Object(b.jsx)(f,{updateDisplay:this.updateDisplay})]})}}]),n}(a.Component);n(23),n(24);var k=function(){return Object(b.jsx)(h.a,{id:"outer-container",className:"align-items-center",children:Object(b.jsx)(O,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),a(e),i(e),s(e),l(e)}))};l.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root")),S()}},[[25,1,2]]]);
//# sourceMappingURL=main.c1d8ac1a.chunk.js.map