(this["webpackJsonpjavascript-calculator"]=this["webpackJsonpjavascript-calculator"]||[]).push([[0],{21:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),s=a(12),l=a.n(s),c=(a(21),a(10)),r=a(13),p=a(14),d=a(4),o=a(16),u=a(15),h=a(9),y=a(5),b=a(1),j=a(0);function m(){return Object(j.jsxs)(y.a,{className:"row-container",id:"display-container",children:[Object(j.jsx)(b.a,{id:"display",children:Object(j.jsx)("span",{id:"display-text"})}),Object(j.jsx)("hr",{}),Object(j.jsx)(b.a,{id:"op-display",children:Object(j.jsx)("span",{id:"op-display-text",children:"0"})})]})}function k(e){var t=function(t){return e.updateDisplay(t.target.innerHTML)};return Object(j.jsx)(y.a,{className:"row-container",id:"keypad-container",children:Object(j.jsxs)(h.a,{id:"keypad",children:[Object(j.jsxs)(y.a,{children:[Object(j.jsx)(b.a,{id:"clear",className:"clickable",onClick:t,children:"AC"}),Object(j.jsx)(b.a,{id:"divide",className:"operand clickable",onClick:t,children:"/"}),Object(j.jsx)(b.a,{id:"multiply",className:"operand clickable",onClick:t,children:"*"}),Object(j.jsx)(b.a,{xs:3,id:"backspace",className:"clickable",onClick:t,children:"DEL"})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsx)(b.a,{id:"seven",className:"clickable",onClick:t,children:"7"}),Object(j.jsx)(b.a,{id:"eight",className:"clickable",onClick:t,children:"8"}),Object(j.jsx)(b.a,{id:"nine",className:"clickable",onClick:t,children:"9"}),Object(j.jsx)(b.a,{id:"subtract",className:"operand clickable",onClick:t,children:"-"})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsx)(b.a,{id:"four",className:"clickable",onClick:t,children:"4"}),Object(j.jsx)(b.a,{id:"five",className:"clickable",onClick:t,children:"5"}),Object(j.jsx)(b.a,{id:"six",className:"clickable",onClick:t,children:"6"}),Object(j.jsx)(b.a,{id:"add",className:"operand clickable",onClick:t,children:"+"})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsxs)(b.a,{xs:9,className:"no-border nested-row",children:[Object(j.jsxs)(y.a,{children:[Object(j.jsx)(b.a,{id:"one",className:"clickable",onClick:t,children:"1"}),Object(j.jsx)(b.a,{id:"two",className:"clickable",onClick:t,children:"2"}),Object(j.jsx)(b.a,{id:"three",className:"clickable",onClick:t,children:"3"})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsx)(b.a,{xs:8,id:"zero",className:"clickable",onClick:t,children:"0"}),Object(j.jsx)(b.a,{id:"decimal",className:"clickable",onClick:t,children:"."})]})]}),Object(j.jsx)(b.a,{id:"equals",className:"clickable",onClick:t,children:"="})]})]})})}var O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={timeoutObj:null,result:null,hasError:!1,pressedElements:[],operators:["+","-","*","/"],keyToClickableId:{1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",0:"zero",".":"decimal",Escape:"clear","/":"divide","*":"multiply","+":"add","-":"subtract","=":"equals",Enter:"equals",Backspace:"backspace"}},n.updateDisplay=n.updateDisplay.bind(Object(d.a)(n)),n.detectKeyStrokeAndUpdateDisplay=n.detectKeyStrokeAndUpdateDisplay.bind(Object(d.a)(n)),n.resetKeypad=n.resetKeypad.bind(Object(d.a)(n)),n.updateDisplayWithNumberOrDecimal=n.updateDisplayWithNumberOrDecimal.bind(Object(d.a)(n)),n.updateDisplayWithOperators=n.updateDisplayWithOperators.bind(Object(d.a)(n)),n.calculateResult=n.calculateResult.bind(Object(d.a)(n)),n.resetCalculator=n.resetCalculator.bind(Object(d.a)(n)),n.backspace=n.backspace.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.detectKeyStrokeAndUpdateDisplay),document.addEventListener("keyup",this.resetKeypad)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.detectKeyStrokeAndUpdateDisplay),document.removeEventListener("keyup",this.resetKeypad)}},{key:"detectKeyStrokeAndUpdateDisplay",value:function(e){var t=e.key,a=this.state.keyToClickableId[t]||null;a&&(this.updateDisplay(t),document.getElementById(a).classList.add("keyActive"),this.state.pressedElements.push(a));"/"===t&&e.preventDefault()}},{key:"resetKeypad",value:function(){for(;this.state.pressedElements.length>0;){document.getElementById(this.state.pressedElements.pop()).classList.remove("keyActive")}}},{key:"updateDisplay",value:function(e){var t=this,a={displaySpan:document.getElementById("display-text"),opDisplaySpan:document.getElementById("op-display-text")},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.parentElement,n=getComputedStyle(a);return e.clientWidth>=a.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-t},i=function(e){navigator.userAgent.includes("Firefox")&&(e.style.paddingRight=getComputedStyle(e.parentElement).paddingRight)},s=function(){a.opDisplaySpan.style.paddingRight=0,a.displaySpan.style.paddingRight=0,a.displaySpan.parentElement.style.textAlign="right",a.opDisplaySpan.parentElement.style.textAlign="right"},l=function(){a.displaySpan.innerHTML="",a.opDisplaySpan.innerHTML="0"},c=function(){t.state.timeoutObj&&(clearTimeout(t.state.timeoutObj),t.setState({timeoutObj:null}))},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.displaySpan.innerHTML,t=/[\d.](?:[+\-*/])/g,n=(e=e.replace("--","+")).match(t),i=e.replace(t,",").split(",");return n&&(i=i.map((function(e,t){return n&&t<n.length?e+n[t].slice(0,-1):e})),n=n.map((function(e){return e.slice(1)}))),{operators:n,operands:i}};null!==this.state.result&&s(),this.state.hasError&&(l(),s(),this.setState({hasError:!1})),isNaN(+e)&&"."!==e?this.state.operators.includes(e)?this.updateDisplayWithOperators(e,a,c):"="===e||"Enter"===e?this.calculateResult(a,c,n,i,r):"DEL"===e||"Backspace"===e?this.backspace(a,n,s,r):this.resetCalculator(c,l,s):this.updateDisplayWithNumberOrDecimal(e,a,n,l,c),n(a.displaySpan)&&(i(a.displaySpan),a.displaySpan.parentElement.scroll({left:a.displaySpan.clientWidth}))}},{key:"updateDisplayWithNumberOrDecimal",value:function(e,t,a,n,i){var s,l=this,c=function(e,t,a){a(e,t)};"."===e&&t.opDisplaySpan.innerHTML.includes(e)||null!==this.state.timeoutObj||(null!==this.state.result&&(n(),this.setState({result:null})),function(){if(a(t.opDisplaySpan,20)){var e=t.opDisplaySpan.innerHTML;return t.opDisplaySpan.innerHTML="LIMIT MET",l.setState({timeoutObj:setTimeout((function(){t.opDisplaySpan.innerHTML=e,i()}),1e3)}),!0}return!1}()||(s="."===e?function(t,a){var n="0.";t.innerHTML===a?t.innerHTML=n:l.state.operators.includes(t.innerHTML)?t.innerHTML=("-"===t.innerHTML?"-":"")+n:l.state.operators.includes(t.innerHTML.charAt(t.innerHTML.length-1))?t.innerHTML+=n:t.innerHTML+=e}:function(t,a){var n=t.innerHTML,i=l.state.operators.reduce((function(e,t){return e=Math.max(e,n.lastIndexOf(t))}),-1);[a,"0","+","*","/"].includes(n)?t.innerHTML=e:"0"===n.charAt(n.length-1)&&-1!==i&&"0"===n.slice(i+1)?t.innerHTML=n.slice(0,-1)+e:t.innerHTML+=e},c(t.displaySpan,"",s),c(t.opDisplaySpan,"",s)))}},{key:"updateDisplayWithOperators",value:function(e,t,a){null!==this.state.result&&(t.displaySpan.innerHTML=this.state.result,this.setState({result:null})),a();var n=t.displaySpan.innerHTML,i=n.charAt(n.length-1),s=n.charAt(n.length-2),l=this.state.operators.includes(s);""===n||this.state.operators.includes(n)?t.displaySpan.innerHTML=e:isNaN(+n)&&isNaN(+i)&&"."!==i?"-"===e?l||(t.displaySpan.innerHTML+=e):t.displaySpan.innerHTML=t.displaySpan.innerHTML.slice(0,l?-2:-1)+e:t.displaySpan.innerHTML+=("."===i?"0":"")+e,t.opDisplaySpan.innerHTML=e}},{key:"backspace",value:function(e,t,a,n){if(e.displaySpan.innerHTML=e.displaySpan.innerHTML.slice(0,-1),e.opDisplaySpan.innerHTML=e.opDisplaySpan.innerHTML.slice(0,-1),e.displaySpan.innerHTML.length<1&&(e.displaySpan.innerHTML=""),e.opDisplaySpan.innerHTML.length<1)if(e.displaySpan.innerHTML.length>0){var i=n(),s=i.operators,l=i.operands;""===l[l.length-1]?e.opDisplaySpan.innerHTML=s[s.length-1]:e.opDisplaySpan.innerHTML=l[l.length-1]}else e.opDisplaySpan.innerHTML="0";t(e.displaySpan)||a()}},{key:"calculateResult",value:function(e,t,a,n,i){t();var s,l=i(),r=l.operators,p=l.operands;try{var d=p[p.length-1];if(""===d||"-"===d)throw new Error("ERROR,FORMULA");if("."===d.slice(-1))throw new Error("ERROR,LAST OPERAND");if(r){s=function(e,t){for(var a=[+t.shift()];e.length>0;){var n=e.shift(),i=+t.shift();if("+"===n||"-"===n)a.push(n,i);else if("*"===n)a.push(a.pop()*i);else{if([0,-0].includes(i))throw new Error("ERROR,DIV BY 0");a.push(a.pop()/i)}}for(;a.length>1;){var s=a.shift();"+"===a.shift()?a.unshift(s+a.shift()):a.unshift(s-a.shift())}return a[0]}(r,p)}else"-0"===p[0]&&(p[0]="0"),s=+p[0]||0}catch(h){var o=h.message.split(","),u=Object(c.a)(o,2);return e.displaySpan.innerHTML=u[0],e.opDisplaySpan.innerHTML=u[1],e.displaySpan.parentElement.style.textAlign="left",e.opDisplaySpan.parentElement.style.textAlign="left",void this.setState({result:null,hasError:!0})}e.opDisplaySpan.innerHTML=s,a(e.opDisplaySpan)&&n(e.opDisplaySpan),this.setState({result:s})}},{key:"resetCalculator",value:function(e,t,a){e(),t(),a(),this.setState({result:null})}},{key:"render",value:function(){return Object(j.jsxs)(h.a,{id:"calculator-body",children:[Object(j.jsx)(m,{}),Object(j.jsx)(k,{updateDisplay:this.updateDisplay})]})}}]),a}(n.Component);a(23),a(24);var f=function(){return Object(j.jsx)(h.a,{id:"outer-container",className:"align-items-center",children:Object(j.jsx)(O,{})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),n(e),i(e),s(e),l(e)}))};l.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root")),S()}},[[25,1,2]]]);
//# sourceMappingURL=main.03aec393.chunk.js.map